#N canvas 268 296 640 196 10;
#N canvas 49 305 1293 329 fft-analysis 0;
#X obj 386 58 *~;
#X obj 386 18 inlet~;
#X obj 386 78 rfft~;
#X obj 402 38 tabreceive~ \$0-hann;
#X obj 16 228 *~;
#X obj 32 208 tabreceive~ \$0-hann;
#X obj 16 168 rifft~;
#X obj 16 248 outlet~;
#X obj 548 207 wrap~;
#X obj 532 227 -~;
#X obj 532 267 /~ 44.1;
#X obj 279 48 *~;
#X obj 178 49 *~;
#X obj 769 29 block~ 512 4;
#X obj 532 247 *~ 512;
#X obj 16 188 /~ 512;
#X obj 532 187 tabreceive~ \$1-\$2/delay;
#X obj 194 18 tabreceive~ \$1-\$2/feedback;
#X obj 117 138 vd~ \$0-phase-l;
#X obj 386 138 delwrite~ \$0-amp-l 6000;
#X obj 417 118 delwrite~ \$0-phase-l 6000;
#X obj 573 65 *~;
#X obj 573 25 inlet~;
#X obj 573 85 rfft~;
#X obj 589 45 tabreceive~ \$0-hann;
#X obj 604 125 delwrite~ \$0-phase-r 6000;
#X obj 573 145 delwrite~ \$0-amp-r 6000;
#X obj 816 238 *~;
#X obj 832 218 tabreceive~ \$0-hann;
#X obj 816 178 rifft~;
#X obj 816 258 outlet~;
#X obj 1079 58 *~;
#X obj 978 59 *~;
#X obj 816 198 /~ 512;
#X obj 994 28 tabreceive~ \$1-\$2/feedback;
#X obj 816 148 vd~ \$0-amp-r;
#X obj 16 138 vd~ \$0-amp-l;
#X obj 917 148 vd~ \$0-phase-r;
#X obj 696 233 samplerate~;
#X obj 696 253 / 1000;
#X obj 697 205 loadbang;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 19 0;
#X connect 2 1 20 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 15 0;
#X connect 8 0 9 1;
#X connect 9 0 14 0;
#X connect 10 0 18 0;
#X connect 10 0 36 0;
#X connect 10 0 35 0;
#X connect 10 0 37 0;
#X connect 11 0 20 0;
#X connect 12 0 19 0;
#X connect 14 0 10 0;
#X connect 15 0 4 0;
#X connect 16 0 8 0;
#X connect 16 0 9 0;
#X connect 17 0 12 1;
#X connect 17 0 11 1;
#X connect 18 0 6 1;
#X connect 18 0 11 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 23 0 26 0;
#X connect 23 1 25 0;
#X connect 24 0 21 1;
#X connect 27 0 30 0;
#X connect 28 0 27 1;
#X connect 29 0 33 0;
#X connect 31 0 25 0;
#X connect 32 0 26 0;
#X connect 33 0 27 0;
#X connect 34 0 32 1;
#X connect 34 0 31 1;
#X connect 35 0 29 0;
#X connect 35 0 32 0;
#X connect 36 0 6 0;
#X connect 36 0 12 0;
#X connect 37 0 29 1;
#X connect 37 0 31 0;
#X connect 38 0 39 0;
#X connect 39 0 10 1;
#X connect 40 0 38 0;
#X restore 439 80 pd fft-analysis;
#N canvas 35 66 485 367 Hann-window 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 512 float 0;
#X coords 0 1 511 0 200 120 1;
#X restore 233 189 graph;
#X msg 152 182 0;
#X obj 56 222 osc~;
#X obj 56 182 samplerate~;
#X obj 56 242 *~ -0.5;
#X obj 56 262 +~ 0.5;
#X obj 41 292 tabwrite~ \$0-hann;
#X text 219 181 1;
#X text 212 299 0;
#X text 228 312 0;
#X obj 56 202 / 512;
#X text 104 220 period 512;
#X obj 41 65 loadbang;
#X text 40 27 The Hann window is now recomputed on 'loadbang' to make
the file smaller (it doesn't have to be saved with the array.);
#X text 414 315 511;
#X text 67 131 recalculate Hann window table;
#X obj 41 150 b;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 10 0 2 0;
#X connect 12 0 16 0;
#X connect 16 0 1 0;
#X connect 16 0 3 0;
#X connect 16 0 6 0;
#X restore 299 64 pd Hann-window;
#N canvas 1006 314 331 324 delay-const 0;
#X msg 17 55 const \$1;
#X obj 17 23 r \$0-delay-const;
#X obj 17 89 s \$1-\$2/delay;
#X obj 17 110 r \$1-\$2/delay;
#X obj 17 209 route const;
#X msg 17 231 set \$1;
#X obj 17 252 s \$0-delay-const-r;
#X obj 163 19 r \$1.NETPD;
#X obj 163 41 route init;
#X obj 163 63 route 5;
#X obj 17 185 spigot;
#X obj 163 130 s \$0-delay-const-r;
#X msg 163 108 0;
#N canvas 805 124 176 114 once 0;
#X obj 13 12 inlet;
#X obj 13 34 spigot 1;
#X obj 13 56 t a b;
#X msg 88 49 0;
#X obj 13 78 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 1 1;
#X restore 163 86 pd once;
#X obj 50 136 r \$1.NETPD;
#X obj 50 159 route remote_origin;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 10 0 4 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 10 1;
#X restore 19 66 pd delay-const;
#N canvas 697 281 381 325 feedback-const 0;
#X msg 17 55 const \$1;
#X obj 17 23 r \$0-feedback-const;
#X obj 17 86 s \$1-\$2/feedback;
#X obj 17 116 r \$1-\$2/feedback;
#X obj 17 218 route const;
#X msg 17 240 set \$1;
#X obj 17 263 s \$0-feedback-const-r;
#X obj 163 19 r \$1.NETPD;
#X obj 163 41 route init;
#X obj 163 63 route 5;
#X obj 163 133 s \$0-feedback-const-r;
#X msg 163 111 0;
#X obj 17 193 spigot;
#N canvas 805 124 176 114 once 0;
#X obj 13 12 inlet;
#X obj 13 34 spigot 1;
#X obj 13 56 t a b;
#X msg 88 49 0;
#X obj 13 78 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 1 1;
#X restore 163 86 pd once;
#X obj 50 143 r \$1.NETPD;
#X obj 50 166 route remote_origin;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 12 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 11 0 10 0;
#X connect 12 0 4 0;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 12 1;
#X restore 19 89 pd feedback-const;
#X text 18 125 code borrowed from spectral_delay.pd by Johannes Kreidler
and Orm Finnendahl 2006 slightly corrected by Roman Haefeli addapted
for netpd by Enrique Erne;
#N canvas 590 278 299 166 \$3-e-spectdel 1;
#X obj 261 20 vsl 15 55 0 128 0 0 \$0-delay-const \$0-delay-const-r
empty 0 -8 0 8 -262130 -1 -1 0 0;
#X obj 261 96 vsl 15 55 0 1 0 0 \$0-feedback-const \$0-feedback-const-r
empty 0 -8 0 8 -262130 -1 -1 0 0;
#X obj 5 18 cnv 15 256 60 empty empty empty 20 12 0 14 -262139 -66577
0;
#X obj 5 94 cnv 15 256 60 empty empty empty 20 12 0 14 -262139 -66577
0;
#N canvas 0 22 454 304 (subpatch) 0;
#X array \$1-\$2/delay 256 float 0;
#X coords 0 134 255 -6 256 60 1 0 0;
#X restore 5 18 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-\$2/feedback 256 float 0;
#X coords 0 1.06 255 -0.06 256 60 1 0 0;
#X restore 5 94 graph;
#X restore 299 20 pd \$3-e-spectdel;
#N canvas 945 245 292 252 NETPD 0;
#X msg 19 10 version 0 1 10;
#X restore 299 42 pd NETPD 2 0;
#X obj 439 20 inlet~;
#X obj 546 20 inlet~;
#X obj 439 150 outlet~;
#X obj 546 150 outlet~;
#X obj 19 20 netpd_t \$1 \$2/delay 256;
#X obj 19 43 netpd_t \$1 \$2/feedback 256;
#N canvas 908 106 426 168 INIT 0;
#X obj 14 22 loadbang;
#X msg 14 52 const 100;
#X obj 14 74 s \$1-\$2/delay;
#X obj 106 75 s \$1-\$2/feedback;
#X msg 106 53 const 0.1;
#X text 144 25 <- this is not yet supported by [netpd_t];
#X connect 1 0 2 0;
#X connect 4 0 3 0;
#X restore 225 23 pd INIT;
#X connect 0 0 9 0;
#X connect 0 1 10 0;
#X connect 7 0 0 0;
#X connect 8 0 0 1;
