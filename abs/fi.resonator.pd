#N canvas 1122 521 373 197 10;
#X obj 12 129 biquad~;
#X msg 184 113 clear;
#X obj 62 94 pack f f f f f;
#N canvas 469 50 627 618 resonator.coeff 0;
#N canvas 270 46 213 261 hz2rad 0;
#X obj 48 74 samplerate~;
#X obj 48 53 loadbang;
#X obj 48 137 atan;
#X msg 48 116 1;
#X text 62 32 w = 2 * pi * f / SR;
#X obj 48 158 * 8;
#X obj 48 95 t b a;
#X obj 48 179 / 44100;
#X text 103 183 2 * pi / SR;
#X obj 13 32 inlet;
#X obj 13 222 outlet;
#X text 59 224 w(rad);
#X text 9 11 freq(Hz);
#X obj 13 193 *;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 6 1 7 1;
#X connect 7 0 13 1;
#X connect 9 0 13 0;
#X connect 13 0 10 0;
#X restore 60 231 pd hz2rad;
#X obj 60 252 t f f;
#X obj 160 266 sin;
#X obj 60 387 cos;
#X obj 60 210 clip 20 20000;
#X msg 209 271 1 \$1;
#X obj 209 292 /;
#X obj 194 313 *;
#X obj 194 343 * 0.5;
#X text 291 49 (b0/a0) + (b1/a0)*z^(-1) + (b2/a0)*z^(-2);
#X obj 5 408 f;
#X msg 5 429 1 \$1;
#X obj 5 450 /;
#X obj 145 539 *;
#X obj 285 539 *;
#X obj 5 539 *;
#X obj 75 539 *;
#X text 251 206 w0 = 2*pi*f0*Fs;
#X text 251 226 alpha = sin(w0)/(2*Q);
#X obj 197 108 t b f;
#X text 263 276 a0 = 1 + alpha;
#X text 294 86 1 + (a1/a0)*z^(-1) + (a2/a0)*z^(-2);
#X text 250 25 Audio-Cookbook:;
#X text 250 115 http://musicdsp.org/files/Audio-EQ-Cookbook.txt;
#X text 252 67 H(z) = -----------------------------------------;
#X obj 5 174 t b a b;
#X obj 215 581 outlet b1;
#X obj 285 581 outlet b2;
#X obj 5 581 outlet a1;
#X obj 75 581 outlet a2;
#X text -1 1 Bandpass filter with Q - biquad filter coefficient generator
;
#X text 263 356 b1 = 0;
#X obj 5 471 t f f f f;
#X obj 145 581 outlet b0;
#X text -1 23 constant skirt gain \, peak gain = Q;
#X text 250 153 BPF: H(s) = s / (s^2 + s/Q + 1) (constant skirt gain
\, peak gain = Q) b0 = sin(w0)/2 = Q*alpha b1 = 0 b2 = -sin(w0)/2 =
-Q*alpha a0 = 1 + alpha a1 = -2*cos(w0) a2 = 1 - alpha;
#X text 263 316 a2 = 1 - alpha;
#X text 263 296 a1 = -2*cos(w0);
#X text 263 336 b0 = sin(w0)/2 = Q*alpha;
#X text 263 376 b2 = -sin(w0)/2 = -Q*alpha;
#X text 252 256 BPF: (constant skirt gain);
#X obj 5 153 f;
#X obj 209 249 f;
#X obj 5 560 * -1;
#X obj 75 560 * -1;
#X obj 160 518 * 0.5;
#X obj 20 518 * -2;
#X msg 90 497 1 \$1;
#X obj 90 518 -;
#X obj 160 287 t f f;
#X obj 300 518 * -0.5;
#X obj 20 387 + 1;
#X obj 5 88 inlet;
#X obj 197 88 inlet;
#X obj 5 109 clip 20 20000;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 49 0;
#X connect 3 0 46 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 47 0;
#X connect 8 0 51 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 32 0;
#X connect 13 0 33 0;
#X connect 14 0 27 0;
#X connect 15 0 43 0;
#X connect 16 0 44 0;
#X connect 19 0 41 0;
#X connect 19 1 42 1;
#X connect 25 0 10 0;
#X connect 25 1 4 0;
#X connect 25 2 42 0;
#X connect 32 0 15 0;
#X connect 32 1 16 0;
#X connect 32 2 13 0;
#X connect 32 3 14 0;
#X connect 41 0 25 0;
#X connect 42 0 5 0;
#X connect 43 0 28 0;
#X connect 44 0 29 0;
#X connect 45 0 13 1;
#X connect 46 0 15 1;
#X connect 47 0 48 0;
#X connect 48 0 16 1;
#X connect 49 0 45 0;
#X connect 49 0 50 0;
#X connect 49 1 7 0;
#X connect 50 0 14 1;
#X connect 51 0 10 1;
#X connect 52 0 54 0;
#X connect 53 0 19 0;
#X connect 54 0 41 0;
#X restore 62 73 pd resonator.coeff;
#X obj 12 150 outlet~;
#X obj 184 92 inlet;
#X obj 62 31 inlet;
#X obj 167 31 inlet;
#X obj 12 93 inlet~;
#X text 12 73 Input;
#X text 12 170 Output;
#X text 184 72 Reinitialize internal state;
#X text 62 11 Frequency(Hz);
#X text 167 11 Resonance(Q);
#X obj 253 36 loadbang;
#X obj 62 52 f \$1;
#X obj 167 52 f \$2;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 3 2 2 2;
#X connect 3 3 2 3;
#X connect 3 4 2 4;
#X connect 5 0 1 0;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 8 0 0 0;
#X connect 14 0 16 0;
#X connect 14 0 15 0;
#X connect 15 0 3 0;
#X connect 16 0 3 1;
