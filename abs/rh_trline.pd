#N canvas 102 199 953 459 10;
#X obj 15 18 inlet;
#X obj 359 16 inlet;
#X obj 15 318 outlet;
#X obj 15 41 f;
#X obj 41 41 r \$0.ramping;
#X obj 15 157 f;
#X obj 15 77 sel 0 1;
#X obj 30 132 r \$0.last;
#X obj 103 106 r \$0.ramping;
#X obj 103 126 sel 1;
#X obj 103 146 timer;
#X obj 103 175 list prepend;
#X obj 172 149 r \$0.ramp;
#X msg 142 222 \$4 \$3;
#X obj 142 242 /;
#X msg 103 223 \$2 \$1;
#X obj 103 243 -;
#X obj 103 263 *;
#X msg 187 223 \$1;
#X obj 103 196 t a a a;
#X obj 103 286 +;
#X msg 628 110 \$2;
#X obj 628 130 t a b;
#X msg 655 152 1;
#X obj 628 152 del;
#X msg 628 172 0;
#X obj 628 194 s \$0.ramping;
#X obj 763 85 r \$0.ramping;
#X obj 790 123 f;
#X obj 790 143 sel 1;
#X obj 763 167 sel 1;
#X obj 763 191 timer;
#X obj 874 192 r \$0.ramp;
#X msg 802 262 \$4 \$3;
#X obj 802 282 /;
#X msg 763 263 \$2 \$1;
#X obj 763 283 -;
#X obj 763 303 *;
#X msg 847 263 \$1;
#X obj 763 236 t a a a;
#X obj 763 326 +;
#X obj 763 349 s \$0.last;
#X msg 469 150 \$1;
#X obj 454 171 f;
#X obj 454 99 r \$0.ramping;
#X obj 454 119 sel 0;
#X text 580 25 are we currently ramping?;
#X text 770 23 calc curr value;
#X text 768 38 during ramps;
#X text 445 17 take target as last;
#X text 446 34 when ramp finished;
#X obj 454 213 s \$0.last;
#X obj 763 215 list prepend 0 0 10;
#X obj 375 115 r \$0.last;
#X obj 359 159 list prepend;
#X obj 359 213 s \$0.ramp;
#X obj 359 36 t a a a b;
#X connect 0 0 3 0;
#X connect 1 0 56 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 6 0 5 0;
#X connect 6 1 10 1;
#X connect 7 0 5 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 19 0;
#X connect 12 0 11 1;
#X connect 13 0 14 0;
#X connect 14 0 17 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 20 0;
#X connect 18 0 20 1;
#X connect 19 0 15 0;
#X connect 19 1 13 0;
#X connect 19 2 18 0;
#X connect 20 0 2 0;
#X connect 21 0 22 0;
#X connect 22 0 24 0;
#X connect 22 1 23 0;
#X connect 23 0 26 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 27 0 28 1;
#X connect 27 0 30 0;
#X connect 28 0 29 0;
#X connect 29 0 31 1;
#X connect 30 0 31 0;
#X connect 31 0 52 0;
#X connect 32 0 52 1;
#X connect 33 0 34 0;
#X connect 34 0 37 1;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 40 0;
#X connect 38 0 40 1;
#X connect 39 0 35 0;
#X connect 39 1 33 0;
#X connect 39 2 38 0;
#X connect 40 0 41 0;
#X connect 42 0 43 1;
#X connect 43 0 51 0;
#X connect 44 0 45 0;
#X connect 45 0 43 0;
#X connect 52 0 39 0;
#X connect 53 0 54 1;
#X connect 54 0 55 0;
#X connect 56 0 54 0;
#X connect 56 1 42 0;
#X connect 56 2 21 0;
#X connect 56 3 28 0;
