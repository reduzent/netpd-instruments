#N canvas 102 106 683 391 10;
#X declare -lib zexy -path zexy;
#X obj 122 49 inlet;
#X text 168 20 a1 a2 b0 b1 b2;
#N canvas 237 106 1032 847 frequencies 0;
#X obj 434 91 symbol \$1;
#X obj 434 125 expr size("$s1");
#X msg 750 284 resize \$1;
#X obj 361 19 inlet;
#X obj 710 335 s \$0-real.freqs1;
#X obj 720 355 s \$0-real.freqs2;
#X obj 730 375 s \$0-imag.freqs1;
#X obj 740 395 s \$0-imag.freqs2;
#X obj 48 50 table \$0-real.freqs1 10;
#X obj 48 70 table \$0-real.freqs2 10;
#X obj 48 90 table \$0-imag.freqs1 10;
#X obj 48 110 table \$0-imag.freqs2 10;
#X msg 354 56 bang;
#X obj 712 249 s \$0-table.size;
#X obj 50 148 table \$0-mag.temp 10;
#X obj 50 168 table \$0-arg.temp 10;
#X obj 838 335 s \$0-mag.temp;
#X obj 854 359 s \$0-arg.temp;
#X text 34 257 This makes tables of complex frequencies from 0 to pi.
It should only have to do this once \, unless the size of the table
has been changed.;
#X msg 353 103 set -1;
#X obj 440 157 change -1;
#X obj 440 187 t f f;
#X obj 438 313 f;
#N canvas 585 106 832 806 mtof.scale 0;
#X obj 209 332 /;
#X obj 144 162 i;
#X obj 141 288 until;
#X obj 141 332 f 0;
#X obj 167 332 + 1;
#X msg 157 310 0;
#X obj 369 236 swap;
#X obj 146 186 t f f;
#X obj 371 266 -;
#X obj 148 413 *;
#X obj 371 318 until;
#X obj 371 362 f 0;
#X obj 397 362 + 1;
#X msg 387 340 0;
#X obj 148 365 t f f;
#X obj 236 438 +;
#X obj 148 468 mtof;
#X obj 113 107 t b f f f;
#X obj 141 235 t f b f;
#X obj 148 389 + 1;
#X text 448 485 MIDI 17;
#X obj 371 293 t f b f;
#X obj 373 420 /;
#X obj 148 439 + 17;
#X obj 148 491 / 44100;
#X obj 148 563 *;
#X obj 163 512 r \$0-pi;
#X obj 381 504 / 44100;
#X obj 381 576 *;
#X obj 396 525 r \$0-pi;
#X obj 163 539 * 2;
#X obj 396 552 * 2;
#X obj 236 464 s \$0-freq.index;
#X obj 412 419 s \$0-freq.index;
#X obj 371 393 t f f;
#X msg 209 307 119.766 \$1;
#X obj 144 138 * 0.97;
#X obj 381 482 * 21.8268;
#X obj 381 454 expr pow($f1 \, .4);
#X obj 113 79 inlet;
#X obj 148 702 outlet;
#X connect 0 0 9 1;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 14 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 8 0;
#X connect 6 1 8 1;
#X connect 7 0 18 0;
#X connect 7 1 6 0;
#X connect 8 0 15 1;
#X connect 8 0 21 0;
#X connect 9 0 23 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 0 34 0;
#X connect 12 0 11 1;
#X connect 13 0 11 1;
#X connect 14 0 19 0;
#X connect 14 1 15 0;
#X connect 15 0 32 0;
#X connect 16 0 24 0;
#X connect 17 1 36 0;
#X connect 17 2 6 1;
#X connect 18 0 2 0;
#X connect 18 1 5 0;
#X connect 18 2 35 0;
#X connect 19 0 9 0;
#X connect 21 0 10 0;
#X connect 21 1 13 0;
#X connect 21 2 22 1;
#X connect 22 0 38 0;
#X connect 23 0 16 0;
#X connect 24 0 25 0;
#X connect 25 0 40 0;
#X connect 26 0 30 0;
#X connect 27 0 28 0;
#X connect 28 0 40 0;
#X connect 29 0 31 0;
#X connect 30 0 25 1;
#X connect 31 0 28 1;
#X connect 34 0 22 0;
#X connect 34 1 33 0;
#X connect 35 0 0 0;
#X connect 36 0 1 0;
#X connect 37 0 27 0;
#X connect 38 0 37 0;
#X connect 39 0 17 0;
#X restore 384 416 pd mtof.scale;
#X obj 486 232 r \$0-freq.scale;
#X obj 436 360 spigot;
#X obj 496 360 spigot;
#X obj 469 323 == 0;
#X obj 529 323 == 1;
#N canvas 0 22 599 652 linear.scale 0;
#X obj 153 89 inlet;
#X obj 153 186 until;
#X obj 153 230 f 0;
#X obj 179 230 + 1;
#X msg 169 208 0;
#X obj 153 123 t f b f;
#X obj 153 266 t f f;
#X obj 183 296 s \$0-freq.index;
#X obj 200 348 /;
#X obj 198 413 *;
#X obj 230 369 r \$0-pi;
#X obj 203 463 outlet;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 1 0;
#X connect 5 1 4 0;
#X connect 5 2 8 1;
#X connect 6 0 8 0;
#X connect 6 1 7 0;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X restore 503 423 pd linear.scale;
#X obj 401 574 tabwrite \$0-real.freqs1;
#X obj 434 595 tabwrite \$0-real.freqs2;
#X obj 467 617 tabwrite \$0-imag.freqs1;
#X obj 500 637 tabwrite \$0-imag.freqs2;
#X obj 401 512 expr cos(-1*$f1) \; cos(-2*$f1) \; sin(-1*$f1) \; sin(-2*$f1)
;
#X obj 577 530 r \$0-freq.index;
#X obj 485 256 t b b f;
#X obj 548 299 s \$0-replot;
#X connect 0 0 1 0;
#X connect 1 0 20 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 7 0;
#X connect 2 0 16 0;
#X connect 2 0 17 0;
#X connect 3 0 0 0;
#X connect 12 0 0 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 13 0;
#X connect 21 1 2 0;
#X connect 22 0 25 0;
#X connect 22 0 26 0;
#X connect 23 0 34 0;
#X connect 24 0 36 0;
#X connect 25 0 23 0;
#X connect 26 0 29 0;
#X connect 27 0 25 1;
#X connect 28 0 26 1;
#X connect 29 0 34 0;
#X connect 34 0 30 0;
#X connect 34 1 31 0;
#X connect 34 2 32 0;
#X connect 34 3 33 0;
#X connect 35 0 30 1;
#X connect 35 0 31 1;
#X connect 35 0 32 1;
#X connect 35 0 33 1;
#X connect 36 0 37 0;
#X connect 36 1 22 0;
#X connect 36 2 28 0;
#X connect 36 2 27 0;
#X restore 311 158 pd frequencies;
#N canvas 297 106 1143 819 calculate 0;
#X obj 244 20 inlet;
#X text 778 420 z-Transform:;
#X text 827 447 H(z) = b0 + b1*z^-1 + b2*z^-2;
#X text 869 456 ----------------------;
#X text 873 467 1 + a1*z^-1 + a2*z^-2;
#X obj 244 46 t b l, f 67;
#X obj 259 66 r \$0-table.size;
#X obj 244 90 f;
#X obj 278 142 until;
#X obj 278 186 f 0;
#X obj 304 186 + 1;
#X msg 293 163 0;
#X obj 278 209 t f f f f f, f 38;
#X obj 278 398 tabread \$0-real.freqs1;
#X obj 335 364 tabread \$0-imag.freqs1;
#X obj 392 337 tabread \$0-real.freqs2;
#X obj 450 307 tabread \$0-imag.freqs2;
#X obj 643 324 unpack f f f f f;
#X obj 278 561 /;
#X obj 431 559 -;
#X obj 278 448 expr $f7 + $f8*$f1 + $f9*$f3 \; $f8*$f2 + $f9*$f4 \;
1 - $f5*$f1 - $f6*$f3 \; 0 - $f5*$f2 - $f6*$f4 \;, f 77;
#X obj 43 695 outlet;
#X obj 278 746 tabwrite \$0-mag.temp;
#X obj 515 746 tabwrite \$0-arg.temp;
#X text 95 695 done;
#X msg 203 294 0;
#X obj 203 322 s \$0-first;
#X obj 244 118 t b b f b;
#X obj 278 621 spigot;
#X obj 328 621 spigot;
#X obj 431 621 spigot;
#X obj 481 621 spigot;
#X obj 636 543 r \$0-first;
#X obj 636 570 == 0;
#X obj 366 670 tabread \$0-mag.temp;
#X obj 328 693 *;
#X obj 595 680 tabread \$0-arg.temp;
#X obj 580 707 +;
#X obj 503 237 s \$0-temp.index;
#X obj 595 621 r \$0-temp.index;
#N canvas 0 106 450 300 cart2pol 0;
#X obj 83 79 t f f f;
#X obj 83 102 *;
#X obj 26 132 +;
#X obj 26 79 t f f f;
#X obj 26 102 *;
#X obj 26 164 sqrt;
#X obj 101 132 pack;
#X obj 101 177 atan2;
#X msg 101 155 \$2 \$1;
#X obj 26 33 pack f f, f 14;
#X obj 106 10 inlet;
#X obj 26 10 inlet;
#X obj 26 53 unpack f f;
#X obj 83 254 outlet;
#X obj 26 253 outlet;
#X obj 26 204 pack f f, f 13;
#X obj 26 226 unpack f f;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 6 1;
#X connect 1 0 2 1;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 3 2 6 0;
#X connect 4 0 2 0;
#X connect 5 0 15 0;
#X connect 6 0 8 0;
#X connect 7 0 15 1;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 9 0;
#X connect 12 0 3 0;
#X connect 12 1 0 0;
#X connect 15 0 16 0;
#X connect 16 0 14 0;
#X connect 16 1 13 0;
#X restore 278 516 pd cart2pol;
#X f 26;
#N canvas 0 106 450 300 cart2pol 0;
#X obj 83 79 t f f f;
#X obj 83 102 *;
#X obj 26 132 +;
#X obj 26 79 t f f f;
#X obj 26 102 *;
#X obj 26 164 sqrt;
#X obj 101 132 pack;
#X obj 101 177 atan2;
#X msg 101 155 \$2 \$1;
#X obj 26 33 pack f f, f 14;
#X obj 106 10 inlet;
#X obj 26 10 inlet;
#X obj 26 53 unpack f f;
#X obj 83 254 outlet;
#X obj 26 253 outlet;
#X obj 26 204 pack f f, f 13;
#X obj 26 226 unpack f f;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 0 2 6 1;
#X connect 1 0 2 1;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 3 2 6 0;
#X connect 4 0 2 0;
#X connect 5 0 15 0;
#X connect 6 0 8 0;
#X connect 7 0 15 1;
#X connect 8 0 7 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 9 0;
#X connect 12 0 3 0;
#X connect 12 1 0 0;
#X connect 15 0 16 0;
#X connect 16 0 14 0;
#X connect 16 1 13 0;
#X restore 584 514 pd cart2pol;
#X f 26;
#X connect 0 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 17 0;
#X connect 6 0 7 1;
#X connect 7 0 27 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 12 2 15 0;
#X connect 12 3 16 0;
#X connect 12 4 38 0;
#X connect 13 0 20 0;
#X connect 14 0 20 1;
#X connect 15 0 20 2;
#X connect 16 0 20 3;
#X connect 17 0 20 4;
#X connect 17 1 20 5;
#X connect 17 2 20 6;
#X connect 17 3 20 7;
#X connect 17 4 20 8;
#X connect 18 0 29 0;
#X connect 18 0 28 0;
#X connect 19 0 30 0;
#X connect 19 0 31 0;
#X connect 20 0 40 0;
#X connect 20 1 40 1;
#X connect 20 2 41 0;
#X connect 20 3 41 1;
#X connect 25 0 26 0;
#X connect 27 0 21 0;
#X connect 27 1 25 0;
#X connect 27 2 8 0;
#X connect 27 3 11 0;
#X connect 28 0 22 0;
#X connect 29 0 35 0;
#X connect 30 0 23 0;
#X connect 31 0 37 0;
#X connect 32 0 33 0;
#X connect 32 0 28 1;
#X connect 32 0 30 1;
#X connect 33 0 31 1;
#X connect 33 0 29 1;
#X connect 34 0 35 1;
#X connect 35 0 22 0;
#X connect 36 0 37 1;
#X connect 37 0 23 0;
#X connect 39 0 23 1;
#X connect 39 0 36 0;
#X connect 39 0 34 0;
#X connect 39 0 22 1;
#X connect 40 0 18 0;
#X connect 40 1 19 0;
#X connect 41 0 18 1;
#X connect 41 1 19 1;
#X restore 185 295 pd calculate;
#X obj 185 225 list split 5;
#X obj 364 49 inlet;
#N canvas 0 106 992 468 messages 0;
#X obj 126 93 inlet;
#X obj 178 315 s \$0-plot.type;
#X obj 273 19 loadbang;
#X obj 228 285 s \$0-amp.units;
#X obj 257 256 s \$0-dbrange;
#X obj 344 258 s \$0-amprange;
#X obj 157 388 s \$0-redraw;
#X obj 124 244 t b f;
#X obj 169 236 t b f;
#X obj 232 223 t b f;
#X obj 294 215 t b f;
#X obj 213 172 expr abs($f1);
#X obj 310 175 expr abs($f1);
#X obj 630 159 samplerate~;
#X obj 629 187 s \$0-sample.rate;
#X msg 626 81 bang;
#X msg 572 156 1;
#X obj 572 178 atan;
#X obj 572 200 * 4;
#X obj 611 121 t b b;
#X obj 569 228 s \$0-pi;
#X obj 273 47 t b b;
#X msg 186 110 phase 0 \, units 0 \, dbrange 24 \, amprange 2 \, linfreq
0;
#X obj 124 135 route phase units dbrange amprange linfreq;
#X obj 367 203 != 0;
#X obj 366 226 s \$0-freq.scale;
#X connect 0 0 23 0;
#X connect 2 0 21 0;
#X connect 7 0 6 0;
#X connect 7 1 1 0;
#X connect 8 0 6 0;
#X connect 8 1 3 0;
#X connect 9 0 6 0;
#X connect 9 1 4 0;
#X connect 10 0 6 0;
#X connect 10 1 5 0;
#X connect 11 0 9 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 15 0 19 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 16 0;
#X connect 19 1 13 0;
#X connect 21 0 22 0;
#X connect 21 1 19 0;
#X connect 22 0 23 0;
#X connect 23 0 7 0;
#X connect 23 1 8 0;
#X connect 23 2 11 0;
#X connect 23 3 12 0;
#X connect 23 4 24 0;
#X connect 24 0 25 0;
#X restore 364 75 pd messages;
#X obj 122 131 t b l b b, f 32;
#X obj 248 194 s \$0-first;
#X msg 248 170 1;
#X obj 212 259 list;
#N canvas 732 106 708 701 scale.and.draw 0;
#X obj 186 67 r \$0-table.size;
#X obj 163 136 t f b;
#X obj 160 164 until;
#X obj 163 108 f;
#X obj 160 207 f 0;
#X obj 186 207 + 1;
#X msg 201 165 0;
#X obj 197 330 spigot;
#X obj 282 332 spigot;
#X obj 330 247 r \$0-plot.type;
#X obj 266 282 == 0;
#X obj 312 519 /;
#X obj 435 437 r \$0-pi;
#X obj 160 233 t f f;
#X obj 214 238 s \$0-plot.index;
#X obj 231 669 tabwrite \$1;
#X obj 298 637 r \$0-plot.index;
#X obj 36 511 rmstodb;
#X obj 36 576 clip -24 24;
#X obj 36 606 / 24;
#X obj 43 478 spigot;
#X obj 221 437 spigot;
#X obj 214 546 - 1;
#X obj 214 578 clip -1 1;
#X obj 166 36 inlet;
#X obj 49 321 r \$0-amp.units;
#X obj 54 409 == 0;
#X obj 292 397 tabread \$0-arg.temp;
#X obj 184 367 tabread \$0-mag.temp;
#X obj 36 540 - 100;
#X obj 124 490 r \$0-dbrange;
#X obj 84 540 * -1;
#X obj 240 462 r \$0-amprange;
#X obj 241 484 * 0.5;
#X obj 217 508 /;
#X obj 75 68 r \$0-redraw;
#X obj 312 544 wrap -1 1;
#X connect 0 0 3 1;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 0 13 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 28 0;
#X connect 8 0 27 0;
#X connect 9 0 10 0;
#X connect 9 0 8 1;
#X connect 10 0 7 1;
#X connect 11 0 36 0;
#X connect 12 0 11 1;
#X connect 13 0 8 0;
#X connect 13 0 7 0;
#X connect 13 1 14 0;
#X connect 16 0 15 1;
#X connect 17 0 29 0;
#X connect 18 0 19 0;
#X connect 19 0 15 0;
#X connect 20 0 17 0;
#X connect 21 0 34 0;
#X connect 22 0 23 0;
#X connect 23 0 15 0;
#X connect 24 0 3 0;
#X connect 25 0 21 1;
#X connect 25 0 26 0;
#X connect 26 0 20 1;
#X connect 27 0 11 0;
#X connect 28 0 21 0;
#X connect 28 0 20 0;
#X connect 29 0 18 0;
#X connect 30 0 18 2;
#X connect 30 0 19 1;
#X connect 30 0 31 0;
#X connect 31 0 18 1;
#X connect 32 0 33 0;
#X connect 33 0 34 1;
#X connect 34 0 22 0;
#X connect 35 0 3 0;
#X connect 36 0 15 0;
#X restore 122 320 pd scale.and.draw;
#X obj 21 83 list;
#X obj 21 49 r \$0-replot;
#X obj 488 32 declare -lib zexy -path zexy;
#X text 489 70 Borrowed from .mmb. Thanks!;
#X connect 0 0 7 0;
#X connect 0 0 12 1;
#X connect 3 0 10 0;
#X connect 4 0 3 0;
#X connect 4 1 10 1;
#X connect 5 0 6 0;
#X connect 7 0 11 0;
#X connect 7 1 4 0;
#X connect 7 2 9 0;
#X connect 7 3 2 0;
#X connect 9 0 8 0;
#X connect 10 0 4 0;
#X connect 12 0 7 0;
#X connect 13 0 12 0;
