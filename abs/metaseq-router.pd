#N canvas 205 94 629 542 10;
#X obj 24 22 inlet;
#X obj 24 45 s \$0.in.0;
#X obj 224 22 inlet;
#X obj 224 45 s \$0.in.1;
#X obj 23 479 r \$0.out.0;
#X obj 23 501 outlet;
#X obj 223 501 outlet;
#X obj 223 479 r \$0.out.1;
#X obj 436 59 table \$0.dst.map 65536;
#N canvas 334 94 371 612 add.method 0;
#X obj 6 8 r \$0.in.1;
#X obj 6 30 route add;
#X obj 121 64 r \$0.count;
#X obj 51 287 s \$0.update;
#X obj 51 163 pack f f;
#X msg 70 215 \$2;
#X obj 70 236 + 1;
#X obj 70 258 s \$0.count;
#X obj 51 88 moses;
#X obj 103 230 s \$0.src;
#X msg 103 208 \$2 \$1;
#X obj 51 185 t b a a;
#X text 72 33 add <src>;
#X obj 6 63 moses -1;
#X connect 0 0 1 0;
#X connect 1 0 13 0;
#X connect 2 0 4 1;
#X connect 2 0 8 1;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 8 0 4 0;
#X connect 10 0 9 0;
#X connect 11 0 3 0;
#X connect 11 1 5 0;
#X connect 11 2 10 0;
#X connect 13 1 8 0;
#X restore 24 91 pd add.method;
#X obj 211 138 r \$0.count;
#X floatatom 210 164 5 0 0 0 - - -, f 5;
#N canvas 334 206 280 420 remove.method 0;
#X obj 6 8 r \$0.in.1;
#X obj 34 58 r \$0.count;
#X obj 72 174 s \$0.count;
#X obj 6 31 route remove;
#X text 87 32 remove;
#X obj 6 53 b;
#X obj 6 83 f;
#X obj 6 105 - 1;
#X obj 45 205 s \$0.update;
#X obj 6 127 moses 0;
#X obj 45 149 t b a;
#X connect 0 0 3 0;
#X connect 1 0 6 1;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 9 1 10 0;
#X connect 10 0 8 0;
#X connect 10 1 2 0;
#X restore 24 114 pd remove.method;
#X obj 436 79 table \$0.src 1024;
#N canvas 0 184 233 275 get.method 0;
#X obj 6 8 r \$0.in.1;
#X obj 6 30 route get;
#X text 72 33 get <id>;
#X obj 6 64 moses 0;
#X obj 45 92 moses;
#X obj 72 67 r \$0.count;
#X obj 6 222 s \$0.out.1;
#X obj 72 138 tabread \$0.src;
#X obj 6 187 bang;
#X obj 45 166 pack f f;
#X obj 45 114 t a a;
#X msg 45 189 route \$1 \$2;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 8 0;
#X connect 3 1 4 0;
#X connect 4 0 10 0;
#X connect 4 1 8 0;
#X connect 5 0 4 1;
#X connect 7 0 9 1;
#X connect 8 0 6 0;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 10 1 7 0;
#X connect 11 0 6 0;
#X restore 23 137 pd get.method;
#N canvas 561 211 311 196 count.method 0;
#X obj 6 8 r \$0.in.1;
#X obj 6 30 route count;
#X obj 6 52 b;
#X obj 6 94 f;
#X msg 6 116 count \$1;
#X obj 6 138 s \$0.out.1;
#X obj 21 72 r \$0.count;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 3 1;
#X restore 23 160 pd count.method;
#X obj 170 328 tabread \$0.dst.count;
#X floatatom 170 350 5 0 0 0 - - -, f 5;
#X floatatom 170 286 5 0 0 0 - - -, f 5;
#X floatatom 301 349 5 0 0 0 - - -, f 5;
#X floatatom 301 281 5 0 0 0 - - -, f 5;
#X obj 301 327 tabread \$0.dst.map.index;
#X floatatom 454 349 5 0 0 0 - - -, f 5;
#X floatatom 454 305 5 0 0 0 - - -, f 5;
#X obj 454 327 tabread \$0.dst.map;
#N canvas 613 191 370 357 router 0;
#X text 15 11 we regard the id=-1 as the master. It can have no source
;
#X obj 16 44 r \$0.in.0;
#X obj 16 98 mod 1025;
#X obj 16 72 unpack;
#X obj 16 120 t a a;
#X obj 16 151 tabread \$0.dst.count;
#X obj 61 177 tabread \$0.dst.map.index;
#X obj 16 245 tabread \$0.dst.map;
#X obj 16 177 until;
#X obj 16 201 f;
#X obj 16 223 t a a;
#X obj 63 211 + 1;
#X obj 16 278 pack f f;
#X obj 247 166 t a;
#X obj 16 313 s \$0.out.0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 3 1 13 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 8 0;
#X connect 6 0 9 1;
#X connect 7 0 12 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X connect 10 1 11 0;
#X connect 11 0 9 1;
#X connect 12 0 14 0;
#X connect 13 0 12 1;
#X restore 23 370 pd router;
#X obj 436 14 table \$0.dst.count 1025;
#X obj 436 37 table \$0.dst.map.index 1025;
#X obj 301 304 mod 1025;
#X obj 170 306 mod 1025;
#X text 399 519 Roman Haefeli \, 2016;
#N canvas 70 98 306 118 NETPD 0;
#X msg 12 17 version 0 1 0;
#N canvas 366 248 352 141 abslist 0;
#X msg 9 13 metaseq-router-help;
#X restore 12 45 pd abslist;
#X restore 528 518 pd NETPD 2 0;
#N canvas 508 160 394 585 update.map 0;
#X obj 19 14 r \$0.update;
#X msg 90 70 0;
#X obj 90 95 s \$0.map.index;
#N canvas 131 56 320 221 iterate 0;
#X obj 50 59 r \$0.count;
#X obj 14 60 f;
#X obj 14 82 t a b;
#X obj 14 104 until;
#X obj 14 126 f;
#X obj 14 148 t a a;
#X obj 54 132 + 1;
#X msg 54 104 0;
#X obj 14 39 b;
#X obj 14 15 inlet;
#X obj 14 173 outlet;
#X connect 0 0 1 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 7 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X restore 38 148 pd iterate;
#N canvas 131 84 290 258 iterate 0;
#X obj 50 59 r \$0.count;
#X obj 14 60 f;
#X obj 14 127 t a b;
#X obj 14 149 until;
#X obj 14 171 f;
#X obj 14 193 t a a;
#X obj 54 177 + 1;
#X obj 14 39 b;
#X obj 14 15 inlet;
#X obj 14 218 outlet;
#X msg 54 149 -1;
#X obj 14 85 sel 0;
#X obj 14 107 + 1;
#X connect 0 0 1 1;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 2 1 10 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 9 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 1 0;
#X connect 8 0 7 0;
#X connect 10 0 4 1;
#X connect 11 1 12 0;
#X connect 12 0 2 0;
#X restore 19 73 pd iterate;
#X obj 19 36 t b b;
#X obj 38 194 tabread \$0.src;
#X obj 38 170 t a a;
#X obj 38 221 sel;
#X obj 38 246 f;
#X obj 19 105 t b b a;
#X obj 248 212 r \$0.map.index;
#X obj 203 260 s \$0.dst.map.index;
#X obj 203 238 pack f f;
#X obj 70 249 r \$0.map.index;
#X obj 38 272 pack f f;
#X msg 88 326 \$2 \$1;
#X obj 88 348 s \$0.dst.map;
#X msg 57 325 \$2;
#X obj 57 347 + 1;
#X obj 57 369 s \$0.map.index;
#X obj 38 294 t b a a;
#X obj 38 399 f;
#X obj 176 393 t b a;
#X msg 176 415 0;
#X obj 19 496 f;
#X obj 19 518 pack f f;
#X msg 19 540 \$2 \$1;
#X obj 19 562 s \$0.dst.count;
#X obj 38 421 + 1;
#X obj 38 458 t a a;
#X obj 149 166 t a a;
#X obj 176 190 mod 1025;
#X obj 176 212 t a a;
#X text 238 190 let's put '-1' at 1024;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 3 0 7 0;
#X connect 4 0 10 0;
#X connect 5 0 4 0;
#X connect 5 1 1 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 7 1 9 1;
#X connect 8 0 9 0;
#X connect 9 0 15 0;
#X connect 10 0 25 0;
#X connect 10 1 3 0;
#X connect 10 2 31 0;
#X connect 11 0 13 1;
#X connect 13 0 12 0;
#X connect 14 0 15 1;
#X connect 15 0 21 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 22 0;
#X connect 21 1 18 0;
#X connect 21 2 16 0;
#X connect 22 0 29 0;
#X connect 23 0 24 0;
#X connect 23 1 26 1;
#X connect 24 0 30 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 29 0 30 0;
#X connect 30 0 25 1;
#X connect 30 1 22 1;
#X connect 31 0 8 1;
#X connect 31 1 32 0;
#X connect 32 0 33 0;
#X connect 33 0 23 0;
#X connect 33 1 13 0;
#X restore 23 342 pd update.map;
#N canvas 775 145 309 304 update.method 0;
#X obj 15 11 r \$0.in.1;
#X obj 15 33 route update;
#X obj 15 55 unpack f f;
#X obj 42 157 moses;
#X obj 69 136 r \$0.count;
#X obj 42 88 - 1;
#X obj 15 116 moses;
#X obj 42 190 pack f f;
#X obj 69 235 s \$0.src;
#X obj 42 212 t b a;
#X obj 42 259 s \$0.update;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 2 1 5 0;
#X connect 2 1 7 1;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 6 1;
#X connect 6 1 3 0;
#X connect 7 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X restore 23 183 pd update.method;
#N canvas 492 122 221 380 dump.method 0;
#X obj 24 12 r \$0.in.1;
#X obj 24 34 route dump;
#X obj 24 56 b;
#X obj 24 78 f;
#X obj 64 58 r \$0.count;
#X obj 43 123 until;
#X obj 24 100 t b a b;
#X obj 43 145 f;
#X obj 43 167 t a a;
#X obj 87 151 + 1;
#X msg 86 124 0;
#X obj 43 190 tabread \$0.src;
#X msg 43 212 add2 \$1;
#N canvas 0 44 329 232 msgbox 0;
#X obj 11 20 inlet;
#X msg 11 42;
#X obj 11 154 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 23 259 pd msgbox;
#X obj 23 281 list prepend restore;
#X obj 23 303 list trim;
#X obj 23 325 s \$0.out.1;
#X msg 24 233 bang \, set;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 7 0;
#X connect 6 0 17 0;
#X connect 6 1 5 0;
#X connect 6 2 10 0;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 8 1 9 0;
#X connect 9 0 7 1;
#X connect 10 0 7 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 13 0;
#X restore 23 205 pd dump.method;
#N canvas 450 366 299 208 restore.method 0;
#X obj 13 12 r \$0.in.1;
#X obj 13 34 route restore;
#X obj 52 78 list length;
#X obj 52 100 s \$0.count;
#X obj 32 124 list prepend 0;
#X obj 32 146 s \$0.src;
#X obj 13 56 t b a a;
#X obj 13 172 s \$0.update;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 6 2 2 0;
#X restore 23 227 pd restore.method;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 7 0 6 0;
#X connect 10 0 11 0;
#X connect 16 0 17 0;
#X connect 18 0 29 0;
#X connect 20 0 28 0;
#X connect 21 0 19 0;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X connect 28 0 21 0;
#X connect 29 0 16 0;
